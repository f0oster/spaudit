package pages

import (
  "fmt"
  "spaudit/interfaces/web/presenters"
  "spaudit/interfaces/web/templates/components/ui"
)

templ ListTableRows(lists []presenters.ListSummary) {
  for _, l := range lists {
    <tr class="hover:bg-slate-50 cursor-default group">
      <td class="px-6 py-4">
        <div class="flex flex-col">
          <div class="font-semibold text-slate-900">{ l.Title }</div>
          <div class="text-xs text-slate-500 mt-1">in { l.WebTitle }</div>
          <div class="text-xs text-slate-400 break-all mt-1">{ l.URL }</div>
        </div>
      </td>
      <td class="px-3 py-4">
        <span class="font-medium">{ fmt.Sprintf("%d", l.ItemCount) }</span>
      </td>
      <td class="px-3 py-4">
        @ui.PermissionsBadge(l.HasUnique)
      </td>
      <td class="px-6 py-4 text-right">
        <a href={ "/lists/" + l.ListID } 
           class="inline-flex items-center px-3 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors">
          View Details â†’
        </a>
      </td>
    </tr>
  }
  if len(lists) == 0 {
    <tr>
      <td colspan="4" class="px-6 py-12 text-center text-slate-500">
        <div class="text-slate-400 text-4xl mb-4">ğŸ”</div>
        <h3 class="text-lg font-medium text-slate-900 mb-2">No lists found</h3>
        <p class="text-slate-500">Try adjusting your search terms.</p>
      </td>
    </tr>
  }
}